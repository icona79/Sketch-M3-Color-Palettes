{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://exports/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://exports/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://exports/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://exports/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://exports/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://exports/./node_modules/@skpm/fs/index.js","webpack://exports/./node_modules/@skpm/fs/utils.js","webpack://exports/./node_modules/color-difference/lib/compare.js","webpack://exports/./node_modules/color-difference/lib/index.js","webpack://exports/./node_modules/color-difference/lib/method/abstract.js","webpack://exports/./node_modules/color-difference/lib/method/cie-76-difference.js","webpack://exports/./node_modules/color-difference/lib/method/euclidean-distance.js","webpack://exports/./node_modules/color-model/index.js","webpack://exports/./node_modules/color-model/lib/abstract-model.js","webpack://exports/./node_modules/color-model/lib/component.js","webpack://exports/./node_modules/color-model/lib/hex-rgb.js","webpack://exports/./node_modules/color-model/lib/hsl.js","webpack://exports/./node_modules/color-model/lib/index.js","webpack://exports/./node_modules/color-model/lib/lab.js","webpack://exports/./node_modules/color-model/lib/rgb.js","webpack://exports/./node_modules/color-model/lib/xyz.js","webpack://exports/./node_modules/color-name/index.js","webpack://exports/./node_modules/colorcolor/src/colorcolor.js","webpack://exports/./src/import-tokens.js","webpack://exports/external \"buffer\"","webpack://exports/external \"os\"","webpack://exports/external \"path\"","webpack://exports/external \"sketch\"","webpack://exports/external \"sketch/dom\"","webpack://exports/external \"util\""],"names":["cd","require","fs","os","path","desktopDir","join","homedir","sketch","Swatch","Style","Group","Text","SharedStyle","document","getSelectedDocument","firstSelectedLayer","selectedLayers","layers","artboard","Artboard","layerStyles","sharedLayerStyles","textStyles","sharedTextStyles","arrayLayerStyleIDs","map","sharedstyle","arrayLayerStyleNames","arrayLayerStyleStyles","layerStylesOrdered","sort","left","right","name","arrayTextStyleIDs","arrayTextStyleNames","arrayTextStyleStyles","textStylesOrdered","stylesString","JSON","stringify","textString","insertedTextStyles","colorVariablesArray","directoryFiles","getPath","folder","substring","lastIndexOf","fileName","basename","fontTokens","parse","readFileSync","tokensTokens","palettes","themes_light","themes_dark","fillStyles","borderStyles","entities","forEach","entity","alias","type","category_id","includes","palette","replace","color","value","description","push","theme","tags","textMDStyles","styleName","fontFamily","fontSize","fontLineHeight","fontWeight","fontKerning","tokens","parseFloat","generatedLayerStyles","generatedTextStyles","colorVariables","paletteToColorVariables","newPage","findOrCreatePage","paletteArtboard","createArtboard","paletteTitle","createTextWithStyleName","console","log","UI","alert","arrayColorVarNames","swatches","paletteName","colorName","newSwatch","from","split","referencingColor","length","indexOf","existingSwatch","sketchObject","updateWithColor","MSColor","colorWithHex_alpha","slice","swatchContainer","documentData","sharedSwatches","updateReferencesToSwatch","getLayerStyleNameFromID","id","i","getTextStyleNameFromID","textStyle","getTextStylesStyleFromIDErr","getLayerStyleIDFromName","styleID","getTextStyleIDFromName","createNewLayerStyle","generatedStyles","styleNameFill","styleNameBorder","styleColor","toUpperCase","checkName","shouldSkip","variable","variableColor","variableName","variableFolder","fills","fillType","FillType","Color","borders","position","BorderPosition","Inside","sharedStyle","style","existingStyleID","localIndex","existingStyle","updateLayerStyles","createLayerStyleErr","createNewTextStyle","styleDetails","textName","textColor","lineHeight","kerning","alignment","updateTextStyles","createTextStyleErr","availableTextStyles","toReturn","toLowerCase","initialPath","panel","NSOpenPanel","openPanel","setCanChooseFiles","setCanChooseDirectories","setCanCreateDirectories","setAllowsMultipleSelection","setTitle","setPrompt","setDirectoryURL","NSURL","fileURLWithPath","result","runModal","NSFileHandlingPanelOKButton","URL","pages","filter","page","Page","parent","backgroundWithStyle","parentLayer","x","y","width","height","cornerRadius","xPosition","yPosition","backgroundWidth","backgroundHeight","backgroundColor","backgroundBorder","backgroundStyleID","backgroundCornerRadius","index","buttonBackground","createShapePath","buttonBackgroundName","sharedStyleId","points","point","setFixedRadius","moveToBack","createTextWithStyleID","padding","textX","textY","textParent","textStyleID","textValue","buttonTextName","newText","text","frame","posX","posY","background","border","ShapePath","newShape","createGroup","children","newGroup","errGroup"],"mappings":";;;;;;;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA;;AAEA,iH;;;;;;;;;;;ACVA;AACA;AACA;;AAEA,+G;;;;;;;;;;;ACJA,uBAAuB,mBAAO,CAAC,wFAAuB;;AAEtD;AACA;AACA;;AAEA,kH;;;;;;;;;;;ACNA;AACA;AACA;;AAEA,gH;;;;;;;;;;;ACJA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2BAA2B,+BAA+B;AAC1D;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,qH;;;;;;;;;;;AC9BA;AACA;AACA;;AAEA,gH;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,kH;;;;;;;;;;;ACJA,qBAAqB,mBAAO,CAAC,oFAAqB;;AAElD,2BAA2B,mBAAO,CAAC,gGAA2B;;AAE9D,iCAAiC,mBAAO,CAAC,4GAAiC;;AAE1E,sBAAsB,mBAAO,CAAC,sFAAsB;;AAEpD;AACA;AACA;;AAEA,8G;;;;;;;;;;;ACZA,wBAAwB,mBAAO,CAAC,0FAAwB;;AAExD,sBAAsB,mBAAO,CAAC,sFAAsB;;AAEpD,iCAAiC,mBAAO,CAAC,4GAAiC;;AAE1E,wBAAwB,mBAAO,CAAC,0FAAwB;;AAExD;AACA;AACA;;AAEA,kH;;;;;;;;;;;ACZA,uBAAuB,mBAAO,CAAC,wFAAuB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2H;;;;;;;;;;;ACXA;AACA;AACA,aAAa,mBAAO,CAAC,sBAAQ;AAC7B,YAAY,mBAAO,CAAC,iDAAS;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACpbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,mBAAO,CAAC,iDAAS;AACvC;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9JA,8BAA8B,gBAAgB,EAAE;;AAEhD,eAAe,mBAAO,CAAC,wDAAa;AACpC;AACA,8BAA8B,mBAAO,CAAC,qGAA6B;AACnE,8BAA8B,mBAAO,CAAC,mGAA4B;AAClE;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;AC3BA;AACA,kBAAkB,mBAAO,CAAC,iEAAW;AACrC;AACA,4BAA4B,mBAAO,CAAC,qGAA6B;AACjE,4BAA4B,mBAAO,CAAC,mGAA4B;AAChE;AACA;;;;;;;;;;;;ACNA,8BAA8B,iBAAiB,EAAE;;AAEjD;AACA;;AAEA;AACA;AACA;AACA,WAAW,IAAI;AACf,WAAW,IAAI;AACf,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;;;;;;;;;;ACdA,8BAA8B,wBAAwB,EAAE;;AAExD;AACA;AACA;AACA;AACA;;AAEA,mBAAO,CAAC,kBAAM,4BAA4B,mBAAO,CAAC,0EAAY,GAAG,yBAAyB,SAAwC;;AAElI;AACA,WAAW,IAAI;AACf,WAAW,IAAI;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AChCA,8BAA8B,0BAA0B,EAAE;;AAE1D;AACA;AACA;AACA;AACA;;AAEA,mBAAO,CAAC,kBAAM,8BAA8B,mBAAO,CAAC,0EAAY,GAAG,yBAAyB,SAA0C;;AAEtI;AACA,WAAW,IAAI;AACf,WAAW,IAAI;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;AC/BA;AACA,oDAAoD;AACpD,CAAC;AACD,mBAAmB,mBAAO,CAAC,sDAAO;AAClC;;;;;;;;;;;;ACJA,8BAA8B,sBAAsB,EAAE;;AAEtD,SAAS,mBAAO,CAAC,gEAAa,EAAE;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA,iDAAiD,UAAU;AAC3D;AACA;AACA;AACA;;AAEA;AACA,WAAW,cAAc;AACzB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,0DAA0D,UAAU;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AC3FA,8BAA8B,kBAAkB,EAAE;;AAElD;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,UAAU;AACrB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1DA,8BAA8B,eAAe,EAAE;;AAE/C,SAAS,mBAAO,CAAC,oDAAO,EAAE;;AAE1B;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA,sBAAsB,IAAI;AAC1B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAO,CAAC,kBAAM,mBAAmB,mBAAO,CAAC,oDAAO,GAAG,yBAAyB,SAA0B;;AAEtG;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;;;;;;;;;;;;ACpEA,8BAA8B,YAAY,EAAE;;AAE5C,SAAS,mBAAO,CAAC,gEAAa,EAAE;AAChC,SAAS,mBAAO,CAAC,oDAAO,EAAE;;AAE1B;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA,yDAAyD;AACzD,yDAAyD;AACzD,yDAAyD;AACzD;;AAEA,mBAAO,CAAC,kBAAM,gBAAgB,mBAAO,CAAC,0EAAkB,GAAG,yBAAyB,SAAiC;;AAErH;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;;;;;;;;;;;;AC3GA;AACA,oBAAoB,mBAAO,CAAC,gEAAa;AACzC,oBAAoB,mBAAO,CAAC,0EAAkB;AAC9C,oBAAoB,mBAAO,CAAC,oDAAO;AACnC,oBAAoB,mBAAO,CAAC,oDAAO;AACnC,oBAAoB,mBAAO,CAAC,4DAAW;AACvC,oBAAoB,mBAAO,CAAC,oDAAO;AACnC,oBAAoB,mBAAO,CAAC,oDAAO;AACnC;;;;;;;;;;;;ACRA,8BAA8B,YAAY,EAAE;;AAE5C,SAAS,mBAAO,CAAC,gEAAa,EAAE;;AAEhC;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA,2DAA2D;AAC3D,2DAA2D;AAC3D,2DAA2D;AAC3D;;AAEA,mBAAO,CAAC,kBAAM,gBAAgB,mBAAO,CAAC,0EAAkB,GAAG,yBAAyB,SAAiC;;AAErH;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;;;;;;;;;;;AC7CA,8BAA8B,YAAY,EAAE;;AAE5C,SAAS,mBAAO,CAAC,gEAAa,EAAE;AAChC,SAAS,mBAAO,CAAC,oDAAO,EAAE;AAC1B,SAAS,mBAAO,CAAC,oDAAO,EAAE;;AAE1B;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA,oDAAoD;AACpD,oDAAoD;AACpD,oDAAoD;AACpD;;AAEA,mBAAO,CAAC,kBAAM,gBAAgB,mBAAO,CAAC,0EAAkB,GAAG,yBAAyB,SAAiC;;AAErH;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA,eAAe,mBAAO,CAAC,4DAAW;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACzJA,8BAA8B,YAAY,EAAE;;AAE5C,SAAS,mBAAO,CAAC,gEAAa,EAAE;AAChC,SAAS,mBAAO,CAAC,oDAAO,EAAE;AAC1B,SAAS,mBAAO,CAAC,oDAAO,EAAE;;AAE1B;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA,kDAAkD;AAClD,kDAAkD;AAClD,kDAAkD;AAClD;;AAEA,mBAAO,CAAC,kBAAM,gBAAgB,mBAAO,CAAC,0EAAkB,GAAG,yBAAyB,SAAiC;;AAErH;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;;;;;;;;;;;;ACpHY;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvJA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,mBAAO,CAAC,sDAAY;AACtC;AACA;AACA;AACA;AACA,kBAAkB,IAAI,SAAS,IAAI,SAAS,IAAI;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,mBAAmB,IAAI,SAAS,IAAI,SAAS,IAAI;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,uBAAuB,EAAE,cAAc,EAAE,cAAc,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,uBAAuB,EAAE,cAAc,EAAE,cAAc,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,uBAAuB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,uBAAuB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,IAAI,SAAS,IAAI,UAAU,IAAI;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,mBAAmB,IAAI,SAAS,IAAI,UAAU,IAAI;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,IAAI,SAAS,IAAI,UAAU,IAAI;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,kBAAkB,IAAI,SAAS,IAAI,UAAU,IAAI;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD,0BAA0B,MAAM,GAAG,MAAM,IAAI,MAAM;AACnD;AACA;AACA;AACA;AACA;AACA,wBAAwB,iCAAiC;AACzD,2BAA2B,OAAO,GAAG,OAAO,IAAI,OAAO,IAAI,OAAO;AAClE;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD,0BAA0B,MAAM,GAAG,MAAM,IAAI,MAAM;AACnD;AACA;AACA,uBAAuB,yBAAyB;AAChD,0BAA0B,MAAM,GAAG,MAAM,IAAI,MAAM;AACnD;AACA;AACA,0BAA0B,EAAE,GAAG,EAAE,GAAG,EAAE;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE;AAC5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,MAAC;AACR,OAAO,MAAC;AACR,OAAO,MAAC;AACR;;AAEA;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"__import-tokens.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/import-tokens.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO: async. Should probably be done with NSFileHandle and some notifications\n// TODO: file descriptor. Needs to be done with NSFileHandle\nvar Buffer = require(\"buffer\").Buffer;\nvar utils = require(\"./utils\");\nvar parseStat = utils.parseStat;\nvar fsError = utils.fsError;\nvar fsErrorForPath = utils.fsErrorForPath;\nvar encodingFromOptions = utils.encodingFromOptions;\nvar NOT_IMPLEMENTED = utils.NOT_IMPLEMENTED;\n\nmodule.exports.constants = {\n  F_OK: 0,\n  R_OK: 4,\n  W_OK: 2,\n  X_OK: 1,\n};\n\nmodule.exports.access = NOT_IMPLEMENTED(\"access\");\n\nmodule.exports.accessSync = function (path, mode) {\n  mode = mode | 0;\n  var fileManager = NSFileManager.defaultManager();\n\n  switch (mode) {\n    case 0:\n      canAccess = module.exports.existsSync(path);\n      break;\n    case 1:\n      canAccess = Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n    case 2:\n      canAccess = Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 3:\n      canAccess =\n        Boolean(Number(fileManager.isExecutableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 4:\n      canAccess = Boolean(Number(fileManager.isReadableFileAtPath(path)));\n      break;\n    case 5:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n    case 6:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 7:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n  }\n\n  if (!canAccess) {\n    throw new Error(\"Can't access \" + String(path));\n  }\n};\n\nmodule.exports.appendFile = NOT_IMPLEMENTED(\"appendFile\");\n\nmodule.exports.appendFileSync = function (file, data, options) {\n  if (!module.exports.existsSync(file)) {\n    return module.exports.writeFileSync(file, data, options);\n  }\n\n  var handle = NSFileHandle.fileHandleForWritingAtPath(file);\n  handle.seekToEndOfFile();\n\n  var encoding = encodingFromOptions(options, \"utf8\");\n\n  var nsdata = Buffer.from(\n    data,\n    encoding === \"NSData\" || encoding === \"buffer\" ? undefined : encoding\n  ).toNSData();\n\n  handle.writeData(nsdata);\n};\n\nmodule.exports.chmod = NOT_IMPLEMENTED(\"chmod\");\n\nmodule.exports.chmodSync = function (path, mode) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.setAttributes_ofItemAtPath_error(\n    {\n      NSFilePosixPermissions: mode,\n    },\n    path,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n};\n\nmodule.exports.chown = NOT_IMPLEMENTED(\"chown\");\nmodule.exports.chownSync = NOT_IMPLEMENTED(\"chownSync\");\n\nmodule.exports.close = NOT_IMPLEMENTED(\"close\");\nmodule.exports.closeSync = NOT_IMPLEMENTED(\"closeSync\");\n\nmodule.exports.copyFile = NOT_IMPLEMENTED(\"copyFile\");\n\nmodule.exports.copyFileSync = function (path, dest, flags) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.copyItemAtPath_toPath_error(path, dest, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, false, err.value());\n  }\n};\n\nmodule.exports.createReadStream = NOT_IMPLEMENTED(\"createReadStream\");\nmodule.exports.createWriteStream = NOT_IMPLEMENTED(\"createWriteStream\");\n\nmodule.exports.exists = NOT_IMPLEMENTED(\"exists\");\n\nmodule.exports.existsSync = function (path) {\n  var fileManager = NSFileManager.defaultManager();\n  return Boolean(Number(fileManager.fileExistsAtPath(path)));\n};\n\nmodule.exports.fchmod = NOT_IMPLEMENTED(\"fchmod\");\nmodule.exports.fchmodSync = NOT_IMPLEMENTED(\"fchmodSync\");\nmodule.exports.fchown = NOT_IMPLEMENTED(\"fchown\");\nmodule.exports.fchownSync = NOT_IMPLEMENTED(\"fchownSync\");\nmodule.exports.fdatasync = NOT_IMPLEMENTED(\"fdatasync\");\nmodule.exports.fdatasyncSync = NOT_IMPLEMENTED(\"fdatasyncSync\");\nmodule.exports.fstat = NOT_IMPLEMENTED(\"fstat\");\nmodule.exports.fstatSync = NOT_IMPLEMENTED(\"fstatSync\");\nmodule.exports.fsync = NOT_IMPLEMENTED(\"fsync\");\nmodule.exports.fsyncSync = NOT_IMPLEMENTED(\"fsyncSync\");\nmodule.exports.ftruncate = NOT_IMPLEMENTED(\"ftruncate\");\nmodule.exports.ftruncateSync = NOT_IMPLEMENTED(\"ftruncateSync\");\nmodule.exports.futimes = NOT_IMPLEMENTED(\"futimes\");\nmodule.exports.futimesSync = NOT_IMPLEMENTED(\"futimesSync\");\n\nmodule.exports.lchmod = NOT_IMPLEMENTED(\"lchmod\");\nmodule.exports.lchmodSync = NOT_IMPLEMENTED(\"lchmodSync\");\nmodule.exports.lchown = NOT_IMPLEMENTED(\"lchown\");\nmodule.exports.lchownSync = NOT_IMPLEMENTED(\"lchownSync\");\n\nmodule.exports.link = NOT_IMPLEMENTED(\"link\");\n\nmodule.exports.linkSync = function (existingPath, newPath) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.linkItemAtPath_toPath_error(existingPath, newPath, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(existingPath, undefined, err.value());\n  }\n};\n\nmodule.exports.lstat = NOT_IMPLEMENTED(\"lstat\");\n\nmodule.exports.lstatSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.attributesOfItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n\n  return parseStat(result);\n};\n\nmodule.exports.mkdir = NOT_IMPLEMENTED(\"mkdir\");\n\nmodule.exports.mkdirSync = function (path, options) {\n  var mode = 0o777;\n  var recursive = false;\n  if (options && options.mode) {\n    mode = options.mode;\n  }\n  if (options && options.recursive) {\n    recursive = options.recursive;\n  }\n  if (typeof options === \"number\") {\n    mode = options;\n  }\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.createDirectoryAtPath_withIntermediateDirectories_attributes_error(\n    path,\n    recursive,\n    {\n      NSFilePosixPermissions: mode,\n    },\n    err\n  );\n\n  if (err.value() !== null) {\n    throw new Error(err.value());\n  }\n};\n\nmodule.exports.mkdtemp = NOT_IMPLEMENTED(\"mkdtemp\");\n\nmodule.exports.mkdtempSync = function (path) {\n  function makeid() {\n    var text = \"\";\n    var possible =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (var i = 0; i < 6; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n    return text;\n  }\n  var tempPath = path + makeid();\n  module.exports.mkdirSync(tempPath);\n  return tempPath;\n};\n\nmodule.exports.open = NOT_IMPLEMENTED(\"open\");\nmodule.exports.openSync = NOT_IMPLEMENTED(\"openSync\");\n\nmodule.exports.read = NOT_IMPLEMENTED(\"read\");\n\nmodule.exports.readdir = NOT_IMPLEMENTED(\"readdir\");\n\nmodule.exports.readdirSync = function (path, options) {\n  var encoding = encodingFromOptions(options, \"utf8\");\n  var fileManager = NSFileManager.defaultManager();\n  var paths = fileManager.subpathsAtPath(path);\n  var arr = [];\n  for (var i = 0; i < paths.length; i++) {\n    var pathName = paths[i];\n    arr.push(encoding === \"buffer\" ? Buffer.from(pathName) : String(pathName));\n  }\n  return arr;\n};\n\nmodule.exports.readFile = NOT_IMPLEMENTED(\"readFile\");\n\nmodule.exports.readFileSync = function (path, options) {\n  var encoding = encodingFromOptions(options, \"buffer\");\n  var fileManager = NSFileManager.defaultManager();\n  var data = fileManager.contentsAtPath(path);\n  if (!data) {\n    throw fsErrorForPath(path, false);\n  }\n\n  var buffer = Buffer.from(data);\n\n  if (encoding === \"buffer\") {\n    return buffer;\n  } else if (encoding === \"NSData\") {\n    return buffer.toNSData();\n  } else {\n    return buffer.toString(encoding);\n  }\n};\n\nmodule.exports.readlink = NOT_IMPLEMENTED(\"readlink\");\n\nmodule.exports.readlinkSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.destinationOfSymbolicLinkAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n\n  return String(result);\n};\n\nmodule.exports.readSync = NOT_IMPLEMENTED(\"readSync\");\n\nmodule.exports.realpath = NOT_IMPLEMENTED(\"realpath\");\nmodule.exports.realpath.native = NOT_IMPLEMENTED(\"realpath.native\");\n\nmodule.exports.realpathSync = function (path) {\n  return String(\n    NSString.stringWithString(path).stringByResolvingSymlinksInPath()\n  );\n};\n\nmodule.exports.realpathSync.native = NOT_IMPLEMENTED(\"realpathSync.native\");\n\nmodule.exports.rename = NOT_IMPLEMENTED(\"rename\");\n\nmodule.exports.renameSync = function (oldPath, newPath) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.moveItemAtPath_toPath_error(oldPath, newPath, err);\n\n  var error = err.value();\n\n  if (error !== null) {\n    // if there is already a file, we need to overwrite it\n    if (\n      String(error.domain()) === \"NSCocoaErrorDomain\" &&\n      Number(error.code()) === 516\n    ) {\n      var err2 = MOPointer.alloc().init();\n      fileManager.replaceItemAtURL_withItemAtURL_backupItemName_options_resultingItemURL_error(\n        NSURL.fileURLWithPath(newPath),\n        NSURL.fileURLWithPath(oldPath),\n        null,\n        NSFileManagerItemReplacementUsingNewMetadataOnly,\n        null,\n        err2\n      );\n      if (err2.value() !== null) {\n        throw fsErrorForPath(oldPath, undefined, err2.value());\n      }\n    } else {\n      throw fsErrorForPath(oldPath, undefined, error);\n    }\n  }\n};\n\nmodule.exports.rmdir = NOT_IMPLEMENTED(\"rmdir\");\n\nmodule.exports.rmdirSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var isDirectory = module.exports.lstatSync(path).isDirectory();\n  if (!isDirectory) {\n    throw fsError(\"ENOTDIR\", {\n      path: path,\n      syscall: \"rmdir\",\n    });\n  }\n  fileManager.removeItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, true, err.value(), \"rmdir\");\n  }\n};\n\nmodule.exports.stat = NOT_IMPLEMENTED(\"stat\");\n\n// the only difference with lstat is that we resolve symlinks\n//\n// > lstat() is identical to stat(), except that if pathname is a symbolic\n// > link, then it returns information about the link itself, not the file\n// > that it refers to.\n// http://man7.org/linux/man-pages/man2/lstat.2.html\nmodule.exports.statSync = function (path) {\n  return module.exports.lstatSync(module.exports.realpathSync(path));\n};\n\nmodule.exports.symlink = NOT_IMPLEMENTED(\"symlink\");\n\nmodule.exports.symlinkSync = function (target, path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.createSymbolicLinkAtPath_withDestinationPath_error(\n    path,\n    target,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw new Error(err.value());\n  }\n};\n\nmodule.exports.truncate = NOT_IMPLEMENTED(\"truncate\");\n\nmodule.exports.truncateSync = function (path, len) {\n  var hFile = NSFileHandle.fileHandleForUpdatingAtPath(sFilePath);\n  hFile.truncateFileAtOffset(len || 0);\n  hFile.closeFile();\n};\n\nmodule.exports.unlink = NOT_IMPLEMENTED(\"unlink\");\n\nmodule.exports.unlinkSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var isDirectory = module.exports.lstatSync(path).isDirectory();\n  if (isDirectory) {\n    throw fsError(\"EPERM\", {\n      path: path,\n      syscall: \"unlink\",\n    });\n  }\n  var result = fileManager.removeItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, false, err.value());\n  }\n};\n\nmodule.exports.unwatchFile = NOT_IMPLEMENTED(\"unwatchFile\");\n\nmodule.exports.utimes = NOT_IMPLEMENTED(\"utimes\");\n\nmodule.exports.utimesSync = function (path, aTime, mTime) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.setAttributes_ofItemAtPath_error(\n    {\n      NSFileModificationDate: aTime,\n    },\n    path,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n};\n\nmodule.exports.watch = NOT_IMPLEMENTED(\"watch\");\nmodule.exports.watchFile = NOT_IMPLEMENTED(\"watchFile\");\n\nmodule.exports.write = NOT_IMPLEMENTED(\"write\");\n\nmodule.exports.writeFile = NOT_IMPLEMENTED(\"writeFile\");\n\nmodule.exports.writeFileSync = function (path, data, options) {\n  var encoding = encodingFromOptions(options, \"utf8\");\n\n  var nsdata = Buffer.from(\n    data,\n    encoding === \"NSData\" || encoding === \"buffer\" ? undefined : encoding\n  ).toNSData();\n\n  nsdata.writeToFile_atomically(path, true);\n};\n\nmodule.exports.writeSync = NOT_IMPLEMENTED(\"writeSync\");\n","module.exports.parseStat = function parseStat(result) {\n  return {\n    dev: String(result.NSFileDeviceIdentifier),\n    // ino: 48064969, The file system specific \"Inode\" number for the file.\n    mode: result.NSFileType | result.NSFilePosixPermissions,\n    nlink: Number(result.NSFileReferenceCount),\n    uid: String(result.NSFileOwnerAccountID),\n    gid: String(result.NSFileGroupOwnerAccountID),\n    // rdev: 0, A numeric device identifier if the file is considered \"special\".\n    size: Number(result.NSFileSize),\n    // blksize: 4096, The file system block size for i/o operations.\n    // blocks: 8, The number of blocks allocated for this file.\n    atimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    mtimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    ctimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    birthtimeMs:\n      Number(result.NSFileCreationDate.timeIntervalSince1970()) * 1000,\n    atime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ), // the 0.5 comes from the node source. Not sure why it's added but in doubt...\n    mtime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    ctime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    birthtime: new Date(\n      Number(result.NSFileCreationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    isBlockDevice: function () {\n      return result.NSFileType === NSFileTypeBlockSpecial;\n    },\n    isCharacterDevice: function () {\n      return result.NSFileType === NSFileTypeCharacterSpecial;\n    },\n    isDirectory: function () {\n      return result.NSFileType === NSFileTypeDirectory;\n    },\n    isFIFO: function () {\n      return false;\n    },\n    isFile: function () {\n      return result.NSFileType === NSFileTypeRegular;\n    },\n    isSocket: function () {\n      return result.NSFileType === NSFileTypeSocket;\n    },\n    isSymbolicLink: function () {\n      return result.NSFileType === NSFileTypeSymbolicLink;\n    },\n  };\n};\n\nvar ERRORS = {\n  EPERM: {\n    message: \"operation not permitted\",\n    errno: -1,\n  },\n  ENOENT: {\n    message: \"no such file or directory\",\n    errno: -2,\n  },\n  EACCES: {\n    message: \"permission denied\",\n    errno: -13,\n  },\n  ENOTDIR: {\n    message: \"not a directory\",\n    errno: -20,\n  },\n  EISDIR: {\n    message: \"illegal operation on a directory\",\n    errno: -21,\n  },\n};\n\nfunction fsError(code, options) {\n  var error = new Error(\n    code +\n      \": \" +\n      ERRORS[code].message +\n      \", \" +\n      (options.syscall || \"\") +\n      (options.path ? \" '\" + options.path + \"'\" : \"\")\n  );\n\n  Object.keys(options).forEach(function (k) {\n    error[k] = options[k];\n  });\n\n  error.code = code;\n  error.errno = ERRORS[code].errno;\n\n  return error;\n}\n\nmodule.exports.fsError = fsError;\n\nmodule.exports.fsErrorForPath = function fsErrorForPath(\n  path,\n  shouldBeDir,\n  err,\n  syscall\n) {\n  var fileManager = NSFileManager.defaultManager();\n  var doesExist = fileManager.fileExistsAtPath(path);\n  if (!doesExist) {\n    return fsError(\"ENOENT\", {\n      path: path,\n      syscall: syscall || \"open\",\n    });\n  }\n  var isReadable = fileManager.isReadableFileAtPath(path);\n  if (!isReadable) {\n    return fsError(\"EACCES\", {\n      path: path,\n      syscall: syscall || \"open\",\n    });\n  }\n  if (typeof shouldBeDir !== \"undefined\") {\n    var isDirectory = require(\"./index\").lstatSync(path).isDirectory();\n    if (isDirectory && !shouldBeDir) {\n      return fsError(\"EISDIR\", {\n        path: path,\n        syscall: syscall || \"read\",\n      });\n    } else if (!isDirectory && shouldBeDir) {\n      return fsError(\"ENOTDIR\", {\n        path: path,\n        syscall: syscall || \"read\",\n      });\n    }\n  }\n  return new Error(err || \"Unknown error while manipulating \" + path);\n};\n\nmodule.exports.encodingFromOptions = function encodingFromOptions(\n  options,\n  defaultValue\n) {\n  return options && options.encoding\n    ? String(options.encoding)\n    : options\n    ? String(options)\n    : defaultValue;\n};\n\nmodule.exports.NOT_IMPLEMENTED = function NOT_IMPLEMENTED(name) {\n  return function () {\n    throw new Error(\n      \"fs.\" +\n        name +\n        \" is not implemented yet. If you feel like implementing it, any contribution will be gladly accepted on https://github.com/skpm/fs\"\n    );\n  };\n};\n","module.exports = (function() { return compare; })();\n\nvar HexRgb   = require('color-model').HexRgb,\n    methods = {\n        'EuclideanDistance' : require('./method/euclidean-distance')\n      , 'CIE76Difference'   : require('./method/cie-76-difference')\n    };\n\n/**\n * Compares two colors and returns difference from 1 to 100\n *\n * @param {String} color1\n * @param {String} color2\n * @param {String} method Default method is best from currently implemented\n * @return {Number} difference\n */\nfunction compare(color1, color2, method) {\n  var methodName = method || 'CIE76Difference';\n\n  if (undefined === methods[methodName]) {\n    throw new Error('Method \"' + methodName + '\" is unknown. See implemented methods in ./lib/method directory.');\n  }\n\n  /** @type Abstract */\n  var methodObj = new methods[methodName];\n\n  return methodObj.compare(new HexRgb(color1), new HexRgb(color2));\n};\n","module.exports  = {\n  compare       : require('./compare')\n  , method      : {\n      'EuclideanDistance' : require('./method/euclidean-distance')\n    , 'CIE76Difference'   : require('./method/cie-76-difference')\n  }\n};\n","module.exports = (function() { return Abstract; })();\n\nfunction Abstract() {\n};\n\n/**\n * Compares two colors and returns difference from 1 to 100\n *\n * @param {Rgb} color1\n * @param {Rgb} color2\n * @return {Number} difference\n */\nAbstract.prototype.compare = function(color1, color2) {\n  throw new Error('Compare method unimplemented!');\n};\n","module.exports = (function() { return CIE76Difference; })();\n\n/**\n * @extends Abstract\n */\nfunction CIE76Difference() {\n};\n\nrequire('util').inherits(CIE76Difference, require('./abstract')); 'code' ? 'completion' : CIE76Difference.prototype = new Abstract;\n\n/**\n * @param {Rgb} color1\n * @param {Rgb} color2\n */\nCIE76Difference.prototype.compare = function(color1, color2) {\n  if (color1.equals(color2)) {\n    return 0;\n  }\n\n  function squaredDelta(v1, v2) {\n    return Math.pow(v1 - v2, 2);\n  }\n\n  var lab1 = color1.toLab(),\n      lab2 = color2.toLab(),\n      sum  = 0;\n\n  sum += squaredDelta(lab1.lightness(), lab2.lightness());\n  sum += squaredDelta(lab1.a(), lab2.a());\n  sum += squaredDelta(lab1.b(), lab2.b());\n\n  return Math.max(Math.min(Math.sqrt(sum), 100), 0)\n};\n","module.exports = (function() { return EuclideanDistance; })();\n\n/**\n * @extends Abstract\n */\nfunction EuclideanDistance() {\n};\n\nrequire('util').inherits(EuclideanDistance, require('./abstract')); 'code' ? 'completion' : EuclideanDistance.prototype = new Abstract;\n\n/**\n * @param {Rgb} color1\n * @param {Rgb} color2\n */\nEuclideanDistance.prototype.compare = function(color1, color2) {\n  if (color1.equals(color2)) {\n    return 0;\n  }\n\n  function squaredDelta(v1, v2) {\n    return Math.pow(v1 - v2, 2);\n  }\n\n  var sum = 0;\n  sum += squaredDelta(color1.red(),   color2.red());\n  sum += squaredDelta(color1.green(), color2.green());\n  sum += squaredDelta(color1.blue(),  color2.blue());\n\n  var conversionIndex = 19.5075;\n\n  return Math.sqrt(sum / conversionIndex);\n};\n","if (process.env.COLOR_MODEL_COVERAGE) {\n  eval('module.exports = require(\"./.coverage/lib\");');\n} else {\n  module.exports = require('./lib');\n}\n","module.exports = (function() { return AbstractModel; })();\n\nvar _r = require('./component'); eval('var Component = _r');\n\n/**\n * Abstract color model\n */\nfunction AbstractModel() {\n  this._name       = null;\n  this._components = [];\n};\n\n/**\n * @returns {String}\n */\nAbstractModel.prototype.toString = function () {\n  var v = [];\n  for (var i = 0, iMax = this._components.length; i < iMax; i++) {\n    v.push(this['_' + this._components[i]].get());\n  }\n  return this._name + '(' + v.join(', ') + ')';\n};\n\n/**\n * @param {AbstractModel} that\n * @returns {Boolean}\n */\nAbstractModel.prototype.equals = function (that) {\n  if (!(that instanceof AbstractModel) || this._name !== that._name) {\n    return false;\n  }\n  for (var i = 0, cs = this._components, iMax = cs.length; i < iMax; i++) {\n    var key = '_' + cs[i];\n    if (!this[key].equals(that[key])) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * @abstract\n * @returns {Xyz}\n */\nAbstractModel.prototype.toXyz = function () {\n  throw new Error('Model ' + this._name + ' has not implemented Xyz conversion!');\n};\n\n/**\n * @returns {Lab}\n */\nAbstractModel.prototype.toLab = function () {\n  return this.toXyz().toLab();\n};\n\n/**\n * Getter/chainable setter in one place\n *\n * @param {String} name\n * @param {Number} value\n * @returns {AbstractModel}\n */\nAbstractModel.prototype.component = function (name, value) {\n  var component = this['_' + name];\n  if (undefined === component || !(component instanceof Component)) {\n    throw new Error('Component \"' + name + '\" is not exists');\n  }\n\n  if (1 == arguments.length) {\n    return component.get();\n  }\n\n  component.set(value);\n  return this;\n};\n\n/**\n * @param {String} name\n * @param {Array} args\n * @returns {AbstractModel}\n */\nAbstractModel.prototype._component = function (name, args) {\n  /** @type Component */\n  var component = this['_' + name];\n\n  if (0 == args.length) {\n    return component.get();\n  }\n\n  component.set(args[0]);\n  return this;\n};\n","module.exports = (function() { return Component; })();\n\n/**\n * Color model Component\n * @param {String} name\n * @param {Number} from\n * @param {Number} to\n */\nfunction Component(name, from, to) {\n  if (!name) {\n    throw new Error('Name not set');\n  }\n  this._name = name;\n\n  from = parseFloat(from);\n  to   = parseFloat(to);\n  if (!(from < to)) {\n    throw new Error('From must be less than to');\n  }\n  this._from = from;\n  this._to   = to;\n\n  this._value = null;\n};\n\n/**\n * @param {Number} value\n * @returns {Component}\n */\nComponent.prototype.set = function (value) {\n  value = value ? parseFloat(value) : 0;\n  if (isNaN(value)) {\n    throw new Error('Value for ' + this._name + ' must be numeric');\n  }\n\n  if (value < this._from || value > this._to) {\n    throw new Error('Value for ' + this._name + ' (' + value + ') must be between ' + this._from + ' and ' + this._to);\n  }\n\n  this._value = value;\n  return this;\n};\n\n/**\n * @returns {Number}\n */\nComponent.prototype.get = function () {\n  return this._value;\n};\n\n/**\n * @param {Component} that\n * @returns {Boolean}\n */\nComponent.prototype.equals = function (that) {\n  return (that instanceof Component)\n    && this._name  === that._name\n    && this._value === that._value;\n};\n","module.exports = (function() { return HexRgb; })();\n\nvar _r = require('./rgb'); eval('var Rgb = _r');\n\n/**\n * Rgb color model, that created from HEX string and formatted as HEX\n * @extends Rgb\n * @param {String} hex\n */\nfunction HexRgb(hex) {\n  if (undefined === hex) {\n    return HexRgb.super_.apply(this, args);\n  }\n\n  var c  = '([a-f0-9]{1,2})',\n      re = new RegExp('^#?' + c + c + c + '$', 'i'),\n      m  = hex.match(re);\n\n  if (null === m) {\n    throw new Error('Value \"' + hex + '\" is unknown hex color');\n  }\n\n  var args = [\n    this._parseIntFromHex(m[1]),\n    this._parseIntFromHex(m[2]),\n    this._parseIntFromHex(m[3])\n  ];\n  HexRgb.super_.apply(this, args);\n};\n\nrequire('util').inherits(HexRgb, require('./rgb')); 'code' ? 'completion' : HexRgb.prototype = new Rgb;\n\n/**\n * @param {String} hex\n * @returns {Number}\n */\nHexRgb.prototype._parseIntFromHex = function(hex) {\n  if (1 == hex.length) {\n    hex = hex + hex;\n  }\n  return parseInt(hex, 16);\n};\n\n/**\n * @returns {String}\n */\nHexRgb.prototype.toString = function() {\n  return '#' + this._formatIntAsHex(this.red()) + this._formatIntAsHex(this.green()) + this._formatIntAsHex(this.blue());\n};\n\n/**\n * @param {Number} intValue\n * @returns {String}\n */\nHexRgb.prototype._formatIntAsHex = function(intValue) {\n  intValue = Math.round(intValue);\n  strValue = '' + intValue;\n  if (1 == strValue.length) {\n    strValue = strValue + strValue;\n  }\n  return (intValue < 16 ? '0' : '') + intValue.toString(16);\n};\n\n/**\n * @returns {Rgb}\n */\nHexRgb.prototype.toRgb = function () {\n  return new Rgb(this._red.get(), this._green.get(), this._blue.get());\n};\n","module.exports = (function() { return Hsl; })();\n\nvar _r = require('./component'); eval('var Component = _r');\nvar _r = require('./rgb');       eval('var Rgb       = _r');\n\n/**\n * Hue, saturation, lightness color space\n * @extends AbstractModel\n * @param {Number} h\n * @param {Number} s\n * @param {Number} l\n */\nfunction Hsl(h, s, l) {\n  this._name       = 'hsl';\n  this._components = ['hue', 'saturation', 'lightness'];\n  this._hue        = new Component('hue',        0, 360); this._hue.set(h);\n  this._saturation = new Component('saturation', 0, 1  ); this._saturation.set(s);\n  this._lightness  = new Component('lightness',  0, 1  ); this._lightness.set(l);\n};\n\nrequire('util').inherits(Hsl, require('./abstract-model')); 'code' ? 'completion' : Hsl.prototype = new AbstractModel;\n\n/**\n * @param {Number} value from 0 to 360\n * @returns {Hsl}\n */\nHsl.prototype.hue = function (value) {\n  return this._component('hue', arguments);\n};\n\n/**\n * @param {Number} value from 0 to 1\n * @returns {Hsl}\n */\nHsl.prototype.saturation = function (value) {\n  return this._component('saturation', arguments);\n};\n\n/**\n * @param {Number} value from 0 to 1\n * @returns {Hsl}\n */\nHsl.prototype.lightness = function (value) {\n  return this._component('lightness', arguments);\n};\n\n/**\n * @returns {Xyz}\n */\nHsl.prototype.toXyz = function () {\n  return this.toRgb().toXyz();\n};\n\n/**\n * @returns {Rgb}\n */\nHsl.prototype.toRgb = function () {\n  var lightness  = this._lightness.get(),\n      saturation = this._saturation.get();\n  if (saturation == 0) {\n    var light = 0;\n    if (lightness < 0) {\n      light = 0;\n    } else if (lightness >= 1) {\n      light = 255;\n    } else {\n      light = (lightness * (1 << 16)) >> 8;\n    }\n    return new Rgb(light, light, light);\n  }\n\n  var hue   = this._hue.get() / this._hue._to,\n      temp2 = (lightness < 0.5) ?\n                (lightness * (saturation + 1)) :\n                (lightness + saturation) - (lightness * saturation),\n      temp1 = 2 * lightness - temp2;\n\n  return new Rgb(\n    this._calcHue(temp1, temp2, hue + 1 / 3),\n    this._calcHue(temp1, temp2, hue),\n    this._calcHue(temp1, temp2, hue - 1 / 3)\n  );\n};\n\n/**\n * @param {Number} temp1\n * @param {Number} temp2\n * @param {Number} hue\n * @returns {Number}\n */\nHsl.prototype._calcHue = function (temp1, temp2, hue) {\n  if (hue < 0) {\n    ++hue;\n  } else if (hue > 1) {\n    --hue;\n  }\n\n  result = temp1;\n  if (hue * 6 < 1) {\n    result = temp1 + (temp2 - temp1) * hue * 6;\n  } else if (hue * 2 < 1) {\n    result = temp2;\n  } else if (hue * 3 < 2) {\n    result = temp1 + (temp2 - temp1) * (2/3 - hue) * 6;\n  }\n\n  return (result * 255.99999999999997) >> 0;\n};\n","module.exports = {\n    Component     : require('./component')\n  , AbstractModel : require('./abstract-model')\n  , Xyz           : require('./xyz')\n  , Rgb           : require('./rgb')\n  , HexRgb        : require('./hex-rgb')\n  , Lab           : require('./lab')\n  , Hsl           : require('./hsl')\n};\n","module.exports = (function() { return Lab; })();\n\nvar _r = require('./component'); eval('var Component = _r');\n\n/**\n * Lab color space\n *\n * CIE 1976 (L*, a*, b*) color space\n * @extends AbstractModel\n * @param {Number} l\n * @param {Number} a\n * @param {Number} b\n */\nfunction Lab(l, a, b) {\n  this._name       = 'lab';\n  this._components = ['lightness', 'a', 'b'];\n  this._lightness  = new Component('lightness',    0, 100); this._lightness.set(l);\n  this._a          = new Component('a',          -87, 100); this._a.set(a);\n  this._b          = new Component('b',         -108, 100); this._b.set(b);\n};\n\nrequire('util').inherits(Lab, require('./abstract-model')); 'code' ? 'completion' : Lab.prototype = new AbstractModel;\n\n/**\n * @param {Number} value\n * @returns {Lab}\n */\nLab.prototype.lightness = function (value) {\n  return this._component('lightness', arguments);\n};\n\n/**\n * @param {Number} value\n * @returns {Lab}\n */\nLab.prototype.a = function (value) {\n  return this._component('a', arguments);\n};\n\n/**\n * @param {Number} value\n * @returns {Lab}\n */\nLab.prototype.b = function (value) {\n  return this._component('b', arguments);\n};\n","module.exports = (function() { return Rgb; })();\n\nvar _r = require('./component'); eval('var Component = _r');\nvar _r = require('./xyz');       eval('var Xyz       = _r');\nvar _r = require('./hsl');       eval('var Hsl       = _r');\n\n/**\n * Rgb color model\n * @extends AbstractModel\n * @param {Number} r\n * @param {Number} g\n * @param {Number} b\n */\nfunction Rgb(r, g, b) {\n  this._name       = 'rgb';\n  this._components = ['red', 'green', 'blue'];\n  this._red        = new Component('red',   0, 255); this._red.set(r);\n  this._green      = new Component('green', 0, 255); this._green.set(g);\n  this._blue       = new Component('blue',  0, 255); this._blue.set(b);\n};\n\nrequire('util').inherits(Rgb, require('./abstract-model')); 'code' ? 'completion' : Rgb.prototype = new AbstractModel;\n\n/**\n * @param {Number} value\n * @returns {Rgb}\n */\nRgb.prototype.red = function (value) {\n  return this._component('red', arguments);\n};\n\n/**\n * @param {Number} value\n * @returns {Rgb}\n */\nRgb.prototype.green = function (value) {\n  return this._component('green', arguments);\n};\n\n/**\n * @param {Number} value\n * @returns {Rgb}\n */\nRgb.prototype.blue = function (value) {\n  return this._component('blue', arguments);\n};\n\n/**\n * @returns {HexRgb}\n */\nRgb.prototype.toHex = function () {\n  var HexRgb = require('./hex-rgb');\n  return new HexRgb()\n    .red  (this._red  .get())\n    .green(this._green.get())\n    .blue (this._blue .get());\n};\n\n/**\n * @returns {String}\n */\nRgb.prototype.toHexString = function () {\n  return this.toHex().toString();\n};\n\n/**\n * @param {Number} value\n * @returns {Number}\n */\nRgb.prototype._preparePreXyzValue = function(value) {\n  value = value / 255;\n  if (value > 0.04045) {\n    value = (value + 0.055) / 1.055;\n    value = Math.pow(value, 2.4);\n  } else {\n    value = value / 12.92;\n  }\n  return value * 100;\n};\n\n/**\n * @returns {Xyz}\n */\nRgb.prototype.toXyz = function () {\n  var r = this._preparePreXyzValue(this._red  .get()),\n      g = this._preparePreXyzValue(this._green.get()),\n      b = this._preparePreXyzValue(this._blue .get());\n\n  return new Xyz(\n    this._finalizeXyzValue(r * 0.4124 + g * 0.3576 + b * 0.1805),\n    this._finalizeXyzValue(r * 0.2126 + g * 0.7152 + b * 0.0722),\n    this._finalizeXyzValue(r * 0.0193 + g * 0.1192 + b * 0.9505)\n  );\n};\n\n/**\n * @param {Number} preXyzValue\n * @returns {Number}\n */\nRgb.prototype._finalizeXyzValue = function (preXyzValue) {\n  return Math.round(preXyzValue * 10000) / 10000;\n};\n\n/**\n * @returns {Hsl}\n */\nRgb.prototype.toHsl = function () {\n  var r = this._red  .get() / 255,\n      g = this._green.get() / 255,\n      b = this._blue .get() / 255,\n      min   = Math.min(r, g, b),\n      max   = Math.max(r, g, b),\n      delta = max - min,\n      lightness = (min + max) / 2;\n\n  lightness = Math.round(lightness * 100) / 100;\n\n  if (delta == 0) {\n    return new Hsl(0, 0, lightness);\n  }\n\n  var saturation = 0;\n  if (lightness < 0.5) {\n    saturation = delta / (max + min);\n  } else {\n    saturation = delta / (2 - max - min);\n  }\n  saturation = Math.round(saturation * 100) / 100;\n\n  var hue  = 0,\n    deltaR = (((max - r) / 6 ) + (delta / 2)) / delta,\n    deltaG = (((max - g) / 6 ) + (delta / 2)) / delta,\n    deltaB = (((max - b) / 6 ) + (delta / 2)) / delta;\n\n  if (r == max) {\n    hue = deltaB - deltaG;\n  } else if (g == max) {\n    hue = ( 1 / 3 ) + deltaR - deltaB;\n  } else {\n    hue = ( 2 / 3 ) + deltaG - deltaR;\n  }\n\n  if (hue < 0) {\n    ++hue;\n  } else if (hue > 1) {\n    --hue;\n  }\n  hue = (hue * 360.99999999999997) >> 0;\n  if (360 == hue) {\n    hue = 0;\n  }\n\n  return new Hsl(hue, saturation, lightness);\n};\n","module.exports = (function() { return Xyz; })();\n\nvar _r = require('./component'); eval('var Component = _r');\nvar _r = require('./rgb');       eval('var Rgb       = _r');\nvar _r = require('./lab');       eval('var Lab       = _r');\n\n/**\n * XYZ color model - base color model for others\n *\n * CIE 1931 color space\n * @extends AbstractModel\n * @param {Number} x\n * @param {Number} y\n * @param {Number} z\n */\nfunction Xyz(x, y, z) {\n  this._name       = 'xyz';\n  this._components = ['x', 'y', 'z'];\n  this._x          = new Component('x', 0, 95.05); this._x.set(x);\n  this._y          = new Component('y', 0, 100  ); this._y.set(y);\n  this._z          = new Component('z', 0, 108.9); this._z.set(z);\n};\n\nrequire('util').inherits(Xyz, require('./abstract-model')); 'code' ? 'completion' : Xyz.prototype = new AbstractModel;\n\n/**\n * @param {Number} value\n * @returns {Xyz}\n */\nXyz.prototype.x = function (value) {\n  return this._component('x', arguments);\n};\n\n/**\n * @param {Number} value\n * @returns {Xyz}\n */\nXyz.prototype.y = function (value) {\n  return this._component('y', arguments);\n};\n\n/**\n * @param {Number} value\n * @returns {Xyz}\n */\nXyz.prototype.z = function (value) {\n  return this._component('z', arguments);\n};\n\n/**\n * @returns {Xyz}\n */\nXyz.prototype.toXyz = function () {\n  return new Xyz(this._x.get(), this._y.get(), this._z.get());\n};\n\n/**\n * @returns {Lab}\n */\nXyz.prototype.toLab = function () {\n  var x = this._preparePreLabValue(this._x.get() /  95.047),\n      y = this._preparePreLabValue(this._y.get() / 100.000),\n      z = this._preparePreLabValue(this._z.get() / 108.883);\n\n  return new Lab(\n    this._finalizeLabValue((116 * y) - 16),\n    this._finalizeLabValue(500 * (x - y)),\n    this._finalizeLabValue(200 * (y - z))\n  );\n};\n\n/**\n * @param {Number} preLabValue\n * @returns {Number}\n */\nXyz.prototype._preparePreLabValue = function (preLabValue) {\n  if (preLabValue > 0.008856) {\n    return Math.pow(preLabValue, 1/3);\n  }\n  return (7.787 * preLabValue) + (16 / 116);\n};\n\n/**\n * @param {Number} preLabValue\n * @returns {Number}\n */\nXyz.prototype._finalizeLabValue = function (preLabValue) {\n  return Math.round(preLabValue * 10000) / 10000;\n};\n\n/**\n * @returns {Rgb}\n */\nXyz.prototype.toRgb = function () {\n  var x = this._x.get() / 100,\n      y = this._y.get() / 100,\n      z = this._z.get() / 100,\n      r = x *  3.2406 + y * -1.5372 + z * -0.4986,\n      g = x * -0.9689 + y *  1.8758 + z *  0.0415,\n      b = x *  0.0557 + y * -0.2040 + z *  1.0570;\n\n  return new Rgb(this._finalizeRgbValue(r), this._finalizeRgbValue(g), this._finalizeRgbValue(b));\n};\n\n/**\n * @param {Number} preRgbValue\n * @returns {Number}\n */\nXyz.prototype._finalizeRgbValue = function (preRgbValue) {\n  if (preRgbValue > 0.0031308 ) {\n    preRgbValue = 1.055 * Math.pow(preRgbValue,  1/2.4) - 0.055;\n  } else {\n    preRgbValue = 12.92 * preRgbValue;\n  }\n\n  return Math.round(255 * preRgbValue);\n};\n","'use strict'\r\n\r\nmodule.exports = {\r\n\t\"aliceblue\": [240, 248, 255],\r\n\t\"antiquewhite\": [250, 235, 215],\r\n\t\"aqua\": [0, 255, 255],\r\n\t\"aquamarine\": [127, 255, 212],\r\n\t\"azure\": [240, 255, 255],\r\n\t\"beige\": [245, 245, 220],\r\n\t\"bisque\": [255, 228, 196],\r\n\t\"black\": [0, 0, 0],\r\n\t\"blanchedalmond\": [255, 235, 205],\r\n\t\"blue\": [0, 0, 255],\r\n\t\"blueviolet\": [138, 43, 226],\r\n\t\"brown\": [165, 42, 42],\r\n\t\"burlywood\": [222, 184, 135],\r\n\t\"cadetblue\": [95, 158, 160],\r\n\t\"chartreuse\": [127, 255, 0],\r\n\t\"chocolate\": [210, 105, 30],\r\n\t\"coral\": [255, 127, 80],\r\n\t\"cornflowerblue\": [100, 149, 237],\r\n\t\"cornsilk\": [255, 248, 220],\r\n\t\"crimson\": [220, 20, 60],\r\n\t\"cyan\": [0, 255, 255],\r\n\t\"darkblue\": [0, 0, 139],\r\n\t\"darkcyan\": [0, 139, 139],\r\n\t\"darkgoldenrod\": [184, 134, 11],\r\n\t\"darkgray\": [169, 169, 169],\r\n\t\"darkgreen\": [0, 100, 0],\r\n\t\"darkgrey\": [169, 169, 169],\r\n\t\"darkkhaki\": [189, 183, 107],\r\n\t\"darkmagenta\": [139, 0, 139],\r\n\t\"darkolivegreen\": [85, 107, 47],\r\n\t\"darkorange\": [255, 140, 0],\r\n\t\"darkorchid\": [153, 50, 204],\r\n\t\"darkred\": [139, 0, 0],\r\n\t\"darksalmon\": [233, 150, 122],\r\n\t\"darkseagreen\": [143, 188, 143],\r\n\t\"darkslateblue\": [72, 61, 139],\r\n\t\"darkslategray\": [47, 79, 79],\r\n\t\"darkslategrey\": [47, 79, 79],\r\n\t\"darkturquoise\": [0, 206, 209],\r\n\t\"darkviolet\": [148, 0, 211],\r\n\t\"deeppink\": [255, 20, 147],\r\n\t\"deepskyblue\": [0, 191, 255],\r\n\t\"dimgray\": [105, 105, 105],\r\n\t\"dimgrey\": [105, 105, 105],\r\n\t\"dodgerblue\": [30, 144, 255],\r\n\t\"firebrick\": [178, 34, 34],\r\n\t\"floralwhite\": [255, 250, 240],\r\n\t\"forestgreen\": [34, 139, 34],\r\n\t\"fuchsia\": [255, 0, 255],\r\n\t\"gainsboro\": [220, 220, 220],\r\n\t\"ghostwhite\": [248, 248, 255],\r\n\t\"gold\": [255, 215, 0],\r\n\t\"goldenrod\": [218, 165, 32],\r\n\t\"gray\": [128, 128, 128],\r\n\t\"green\": [0, 128, 0],\r\n\t\"greenyellow\": [173, 255, 47],\r\n\t\"grey\": [128, 128, 128],\r\n\t\"honeydew\": [240, 255, 240],\r\n\t\"hotpink\": [255, 105, 180],\r\n\t\"indianred\": [205, 92, 92],\r\n\t\"indigo\": [75, 0, 130],\r\n\t\"ivory\": [255, 255, 240],\r\n\t\"khaki\": [240, 230, 140],\r\n\t\"lavender\": [230, 230, 250],\r\n\t\"lavenderblush\": [255, 240, 245],\r\n\t\"lawngreen\": [124, 252, 0],\r\n\t\"lemonchiffon\": [255, 250, 205],\r\n\t\"lightblue\": [173, 216, 230],\r\n\t\"lightcoral\": [240, 128, 128],\r\n\t\"lightcyan\": [224, 255, 255],\r\n\t\"lightgoldenrodyellow\": [250, 250, 210],\r\n\t\"lightgray\": [211, 211, 211],\r\n\t\"lightgreen\": [144, 238, 144],\r\n\t\"lightgrey\": [211, 211, 211],\r\n\t\"lightpink\": [255, 182, 193],\r\n\t\"lightsalmon\": [255, 160, 122],\r\n\t\"lightseagreen\": [32, 178, 170],\r\n\t\"lightskyblue\": [135, 206, 250],\r\n\t\"lightslategray\": [119, 136, 153],\r\n\t\"lightslategrey\": [119, 136, 153],\r\n\t\"lightsteelblue\": [176, 196, 222],\r\n\t\"lightyellow\": [255, 255, 224],\r\n\t\"lime\": [0, 255, 0],\r\n\t\"limegreen\": [50, 205, 50],\r\n\t\"linen\": [250, 240, 230],\r\n\t\"magenta\": [255, 0, 255],\r\n\t\"maroon\": [128, 0, 0],\r\n\t\"mediumaquamarine\": [102, 205, 170],\r\n\t\"mediumblue\": [0, 0, 205],\r\n\t\"mediumorchid\": [186, 85, 211],\r\n\t\"mediumpurple\": [147, 112, 219],\r\n\t\"mediumseagreen\": [60, 179, 113],\r\n\t\"mediumslateblue\": [123, 104, 238],\r\n\t\"mediumspringgreen\": [0, 250, 154],\r\n\t\"mediumturquoise\": [72, 209, 204],\r\n\t\"mediumvioletred\": [199, 21, 133],\r\n\t\"midnightblue\": [25, 25, 112],\r\n\t\"mintcream\": [245, 255, 250],\r\n\t\"mistyrose\": [255, 228, 225],\r\n\t\"moccasin\": [255, 228, 181],\r\n\t\"navajowhite\": [255, 222, 173],\r\n\t\"navy\": [0, 0, 128],\r\n\t\"oldlace\": [253, 245, 230],\r\n\t\"olive\": [128, 128, 0],\r\n\t\"olivedrab\": [107, 142, 35],\r\n\t\"orange\": [255, 165, 0],\r\n\t\"orangered\": [255, 69, 0],\r\n\t\"orchid\": [218, 112, 214],\r\n\t\"palegoldenrod\": [238, 232, 170],\r\n\t\"palegreen\": [152, 251, 152],\r\n\t\"paleturquoise\": [175, 238, 238],\r\n\t\"palevioletred\": [219, 112, 147],\r\n\t\"papayawhip\": [255, 239, 213],\r\n\t\"peachpuff\": [255, 218, 185],\r\n\t\"peru\": [205, 133, 63],\r\n\t\"pink\": [255, 192, 203],\r\n\t\"plum\": [221, 160, 221],\r\n\t\"powderblue\": [176, 224, 230],\r\n\t\"purple\": [128, 0, 128],\r\n\t\"rebeccapurple\": [102, 51, 153],\r\n\t\"red\": [255, 0, 0],\r\n\t\"rosybrown\": [188, 143, 143],\r\n\t\"royalblue\": [65, 105, 225],\r\n\t\"saddlebrown\": [139, 69, 19],\r\n\t\"salmon\": [250, 128, 114],\r\n\t\"sandybrown\": [244, 164, 96],\r\n\t\"seagreen\": [46, 139, 87],\r\n\t\"seashell\": [255, 245, 238],\r\n\t\"sienna\": [160, 82, 45],\r\n\t\"silver\": [192, 192, 192],\r\n\t\"skyblue\": [135, 206, 235],\r\n\t\"slateblue\": [106, 90, 205],\r\n\t\"slategray\": [112, 128, 144],\r\n\t\"slategrey\": [112, 128, 144],\r\n\t\"snow\": [255, 250, 250],\r\n\t\"springgreen\": [0, 255, 127],\r\n\t\"steelblue\": [70, 130, 180],\r\n\t\"tan\": [210, 180, 140],\r\n\t\"teal\": [0, 128, 128],\r\n\t\"thistle\": [216, 191, 216],\r\n\t\"tomato\": [255, 99, 71],\r\n\t\"turquoise\": [64, 224, 208],\r\n\t\"violet\": [238, 130, 238],\r\n\t\"wheat\": [245, 222, 179],\r\n\t\"white\": [255, 255, 255],\r\n\t\"whitesmoke\": [245, 245, 245],\r\n\t\"yellow\": [255, 255, 0],\r\n\t\"yellowgreen\": [154, 205, 50]\r\n};\r\n","/*jshint esversion: 6 */\n\nfunction colorcolor(color, newColor = \"rgba\", calculateOpacity = false) {\n\tcolor = color.toLowerCase();\n\tnewColor = newColor.toLowerCase();\n\tvar returnedColor = color;\n\tvar namedColor = require('color-name');\n\tvar r,g,b,a;\n\tvar roundTo = 4;\n\tvar colorDefinitions = {\n\t\trgb: {\n\t\t\tre: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\n\t\t\texample: [ \"rgb(123, 234, 45)\", \"rgb(255,234,245)\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\treturn [\n\t\t\t\t\tparseInt(bits[ 1 ], 10), parseInt(bits[ 2 ], 10), parseInt(bits[ 3 ], 10), 1\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\trgba: {\n\t\t\tre: /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d+(?:\\.\\d+)?|\\.\\d+)\\s*\\)/,\n\t\t\texample: [ \"rgba(123, 234, 45, 1)\", \"rgba(255,234,245, 0.5)\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\treturn [\n\t\t\t\t\tparseInt(bits[ 1 ], 10), parseInt(bits[ 2 ], 10), parseInt(bits[ 3 ], 10), parseFloat(bits[ 4 ])\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\thex: {\n\t\t\tre: /^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n\t\t\texample: [ \"00ff00\", \"336699\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\treturn [\n\t\t\t\t\tparseInt(bits[ 1 ], 16), parseInt(bits[ 2 ], 16), parseInt(bits[ 3 ], 16), 1\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\thex3: {\n\t\t\tre: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n\t\t\texample: [ \"fb0\", \"f0f\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\treturn [\n\t\t\t\t\tparseInt(bits[ 1 ] + bits[ 1 ], 16), parseInt(bits[ 2 ] + bits[ 2 ], 16), parseInt(bits[ 3 ] + bits[ 3 ], 16), 1\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\thexa: {\n\t\t\tre: /^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n\t\t\texample: [ \"00ff00ff\", \"336699a0\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\treturn [\n\t\t\t\t\tparseInt(bits[ 1 ], 16), parseInt(bits[ 2 ], 16), parseInt(bits[ 3 ], 16), (parseInt(bits[ 4 ], 16) / 255)\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\thex4a: {\n\t\t\tre: /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n\t\t\texample: [ \"fb0f\", \"f0f8\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\treturn [\n\t\t\t\t\tparseInt(bits[ 1 ] + bits[ 1 ], 16), parseInt(bits[ 2 ] + bits[ 2 ], 16), parseInt(bits[ 3 ] + bits[ 3 ], 16), (parseInt(bits[ 4 ] + bits[ 4 ], 16) / 255)\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\thsl: {\n\t\t\tre: /^hsl\\((\\d{1,3}),\\s*(\\d{1,3})%,\\s*(\\d{1,3})%\\)$/,\n\t\t\texample: [ \"hsl(120, 100%, 25%)\", \"hsl(0, 100%, 50%)\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\tbits[ 4 ] = 1;\n\t\t\t\tvar rgba = hslToRgb(bits);\n\t\t\t\treturn [\n\t\t\t\t\trgba.r, rgba.g, rgba.b, rgba.a\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\thsla: {\n\t\t\tre: /^hsla\\((\\d{1,3}),\\s*(\\d{1,3})%,\\s*(\\d{1,3})%,\\s*(\\d+(?:\\.\\d+)?|\\.\\d+)\\s*\\)/,\n\t\t\texample: [ \"hsla(120, 100%, 25%, 1)\", \"hsla(0, 100%, 50%, 0.5)\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\tvar rgba = hslToRgb(bits);\n\t\t\t\treturn [\n\t\t\t\t\trgba.r, rgba.g, rgba.b, rgba.a\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\thsv: {\n\t\t\tre: /^hsv\\((\\d{1,3}),\\s*(\\d{1,3})%,\\s*(\\d{1,3})%\\)$/,\n\t\t\texample: [ \"hsv(120, 100%, 25%)\", \"hsv(0, 100%, 50%)\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\tvar rgb = hsvToRgb(bits);\n\t\t\t\treturn [\n\t\t\t\t\trgb.r, rgb.g, rgb.b, 1\n\t\t\t\t];\n\t\t\t}\n\t\t},\n\t\thsb: {\n\t\t\tre: /^hsb\\((\\d{1,3}),\\s*(\\d{1,3})%,\\s*(\\d{1,3})%\\)$/,\n\t\t\texample: [ \"hsb(120, 100%, 25%)\", \"hsb(0, 100%, 50%)\" ],\n\t\t\ttoRGBA: function (bits) {\n\t\t\t\tvar rgb = hsvToRgb(bits);\n\t\t\t\treturn [\n\t\t\t\t\trgb.r, rgb.g, rgb.b, 1\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\t};\n\n\t// If this is a named color, convert it to hex\n\tif (namedColor.hasOwnProperty(color)) {\n\t\tcolor = namedColor[color];\n\t\tcolor.forEach(function(piece, index) {\n\t\t\t\"use strict\";\n\t\t\tcolor[index] = (\"0\" + piece.toString(16)).slice(-2);\n\t\t});\n\t\tcolor = \"#\" + color.join('');\n\t}\n\n\t// Search the color definitions for a match\n\tfor (let colorDefinition in colorDefinitions) {\n\t\tlet re = colorDefinitions[colorDefinition].re;\n\t\tlet processor = colorDefinitions[colorDefinition].toRGBA;\n\t\tlet bits = re.exec(color);\n\t\tif (bits) {\n\t\t\tlet channels = processor(bits);\n\t\t\tr = channels[0];\n\t\t\tg = channels[1];\n\t\t\tb = channels[2];\n\t\t\ta = +(Math.round(channels[3] + (\"e+\" + roundTo)) + (\"e-\" + roundTo));\n\t\t}\n\t}\n\tr = Math.round( ( r < 0 || isNaN(r) ) ? 0 : ( ( r > 255 ) ? 255 : r ) );\n\tg = Math.round( ( g < 0 || isNaN(g) ) ? 0 : ( ( g > 255 ) ? 255 : g ) );\n\tb = Math.round( ( b < 0 || isNaN(b) ) ? 0 : ( ( b > 255 ) ? 255 : b ) );\n\ta = ( a < 0 || isNaN(a) ) ? 0 : ( ( a > 1 ) ? 1 : a );\n\n\tswitch (newColor) {\n\t\tcase \"hex\":\n\t\t\treturnedColor = \"#\" + (\"0\" + r.toString(16)).slice(-2) + (\"0\" + g.toString(16)).slice(-2) + (\"0\" + b.toString(16)).slice(-2);\n\t\t\tbreak;\n\t\tcase \"hexa\":\n\t\t\tif (calculateOpacity) {\n\t\t\t\t[r, g, b, a] = calculateOpacityFromWhite(r, g, b, a);\n\t\t\t}\n\t\t\treturnedColor = \"#\" + (\"0\" + r.toString(16)).slice(-2) + (\"0\" + g.toString(16)).slice(-2) + (\"0\" + b.toString(16)).slice(-2) + (\"0\" + (Math.round(255 * a)).toString(16)).slice(-2);\n\t\t\tbreak;\n\t\tcase \"hsl\":\n\t\t\tlet hsl = rgbToHsl({ \"r\": r, \"g\": g, \"b\": b });\n\t\t\treturnedColor = `hsl(${hsl.h},${hsl.s}%,${hsl.l}%)`;\n\t\t\tbreak;\n\t\tcase \"hsla\":\n\t\t\tif (calculateOpacity) {\n\t\t\t\t[r, g, b, a] = calculateOpacityFromWhite(r, g, b, a);\n\t\t\t}\n\t\t\tlet hsla = rgbToHsl({ \"r\": r, \"g\": g, \"b\": b, \"a\": a });\n\t\t\treturnedColor = `hsla(${hsla.h},${hsla.s}%,${hsla.l}%,${hsla.a})`;\n\t\t\tbreak;\n\t\tcase \"hsb\":\n\t\t\t/* Same as `hsv` */\n\t\t\tlet hsb = rgbToHsv({ \"r\": r, \"g\": g, \"b\": b });\n\t\t\treturnedColor = `hsb(${hsb.h},${hsb.s}%,${hsb.v}%)`;\n\t\t\tbreak;\n\t\tcase \"hsv\":\n\t\t\tlet hsv = rgbToHsv({ \"r\": r, \"g\": g, \"b\": b });\n\t\t\treturnedColor = `hsv(${hsv.h},${hsv.s}%,${hsv.v}%)`;\n\t\t\tbreak;\n\t\tcase \"rgb\":\n\t\t\treturnedColor = `rgb(${r},${g},${b})`;\n\t\t\tbreak;\n\t\tcase \"rgba\":\n\t\t/* falls through */\n\t\tdefault:\n\t\t\tif (calculateOpacity) {\n\t\t\t\t[r, g, b, a] = calculateOpacityFromWhite(r, g, b, a);\n\t\t\t}\n\t\t\treturnedColor = `rgba(${r},${g},${b},${a})`;\n\t\t\tbreak;\n\t}\n\n\treturn returnedColor;\n}\n\nfunction calculateOpacityFromWhite(r, g, b, a) {\n\t\"use strict\";\n\tvar min = 0;\n\ta = ( 255 - ( min = Math.min(r, g, b) ) ) / 255;\n\tr = ( 0 || ( r - min ) / a ).toFixed(0);\n\tg = ( 0 || ( g - min ) / a ).toFixed(0);\n\tb = ( 0 || ( b - min ) / a ).toFixed(0);\n\ta = parseFloat(a.toFixed(4));\n\n\treturn [r, g, b, a];\n}\n\nfunction hslToRgb(bits) {\n\tvar rgba = {}, hsl = {\n\t\th: bits[1] / 360,\n\t\ts: bits[2] / 100,\n\t\tl: bits[3] / 100,\n\t\ta: parseFloat(bits[ 4 ])\n\t};\n\tif (hsl.s === 0) {\n\t\tlet v = 255 * hsl.l;\n\t\trgba = {\n\t\t\tr: v,\n\t\t\tg: v,\n\t\t\tb: v,\n\t\t\ta: hsl.a\n\t\t};\n\t} else {\n\t\tlet q = hsl.l < 0.5 ? hsl.l * ( 1 + hsl.s ) : ( hsl.l + hsl.s ) - ( hsl.l * hsl.s );\n\t\tlet p = 2 * hsl.l - q;\n\t\trgba.r = hueToRgb(p, q, hsl.h + ( 1 / 3 ) ) * 255;\n\t\trgba.g = hueToRgb(p, q, hsl.h) * 255;\n\t\trgba.b = hueToRgb(p, q, hsl.h - ( 1 / 3 ) ) * 255;\n\t\trgba.a = hsl.a;\n\t}\n\n\treturn rgba;\n}\n\nfunction rgbToHsl(rgba) {\n\trgba.r = rgba.r / 255;\n\trgba.g = rgba.g / 255;\n\trgba.b = rgba.b / 255;\n\tvar max = Math.max(rgba.r, rgba.g, rgba.b), min = Math.min(rgba.r, rgba.g, rgba.b), hsl = [], d;\n\thsl.a = rgba.a;\n\thsl.l = ( max + min ) / 2;\n\tif (max === min) {\n\t\thsl.h = 0;\n\t\thsl.s = 0;\n\t} else {\n\t\td = max - min;\n\t\thsl.s = hsl.l >= 0.5 ? d / ( 2 - max - min ) : d / ( max + min );\n\t\tswitch (max) {\n\t\t\tcase rgba.r:\n\t\t\t\thsl.h = ( rgba.g - rgba.b ) / d + ( rgba.g < rgba.b ? 6 : 0 );\n\t\t\t\tbreak;\n\t\t\tcase rgba.g:\n\t\t\t\thsl.h = ( rgba.b - rgba.r ) / d + 2;\n\t\t\t\tbreak;\n\t\t\tcase rgba.b:\n\t\t\t\thsl.h = ( rgba.r - rgba.g ) / d + 4;\n\t\t\t\tbreak;\n\t\t}\n\t\thsl.h /= 6;\n\t}\n\thsl.h = parseInt(( hsl.h * 360 ).toFixed(0), 10);\n\thsl.s = parseInt(( hsl.s * 100 ).toFixed(0), 10);\n\thsl.l = parseInt(( hsl.l * 100 ).toFixed(0), 10);\n\n\treturn hsl;\n}\n\nfunction hsvToRgb(bits) {\n\tvar rgb = {}, hsv = {\n\t\th: bits[1] / 360,\n\t\ts: bits[2] / 100,\n\t\tv: bits[3] / 100\n\t}, i = Math.floor(hsv.h * 6), f = hsv.h * 6 - i, p = hsv.v * ( 1 - hsv.s ), q = hsv.v * ( 1 - f * hsv.s ), t = hsv.v * ( 1 - ( 1 - f ) * hsv.s );\n\tswitch (i % 6) {\n\t\tcase 0:\n\t\t\trgb.r = hsv.v;\n\t\t\trgb.g = t;\n\t\t\trgb.b = p;\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\trgb.r = q;\n\t\t\trgb.g = hsv.v;\n\t\t\trgb.b = p;\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\trgb.r = p;\n\t\t\trgb.g = hsv.v;\n\t\t\trgb.b = t;\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\trgb.r = p;\n\t\t\trgb.g = q;\n\t\t\trgb.b = hsv.v;\n\t\t\tbreak;\n\t\tcase 4:\n\t\t\trgb.r = t;\n\t\t\trgb.g = p;\n\t\t\trgb.b = hsv.v;\n\t\t\tbreak;\n\t\tcase 5:\n\t\t\trgb.r = hsv.v;\n\t\t\trgb.g = p;\n\t\t\trgb.b = q;\n\t\t\tbreak;\n\t}\n\trgb.r = rgb.r * 255;\n\trgb.g = rgb.g * 255;\n\trgb.b = rgb.b * 255;\n\n\treturn rgb;\n}\n\nfunction rgbToHsv(rgba) {\n\trgba.r = toPercent(parseInt(rgba.r, 10) % 256, 256);\n\trgba.g = toPercent(parseInt(rgba.g, 10) % 256, 256);\n\trgba.b = toPercent(parseInt(rgba.b, 10) % 256, 256);\n\tvar max = Math.max(rgba.r, rgba.g, rgba.b), min = Math.min(rgba.r, rgba.g, rgba.b), d = max - min, hsv = {\n\t\t\"h\": 0,\n\t\t\"s\": max === 0 ? 0 : d / max,\n\t\t\"v\": max\n\t};\n\tif (max !== min) {\n\t\tswitch (max) {\n\t\t\tcase rgba.r:\n\t\t\t\thsv.h = ( rgba.g - rgba.b ) / d + ( rgba.g < rgba.b ? 6 : 0 );\n\t\t\t\tbreak;\n\t\t\tcase rgba.g:\n\t\t\t\thsv.h = ( rgba.b - rgba.r ) / d + 2;\n\t\t\t\tbreak;\n\t\t\tcase rgba.b:\n\t\t\t\thsv.h = ( rgba.r - rgba.g ) / d + 4;\n\t\t\t\tbreak;\n\t\t}\n\t\thsv.h /= 6;\n\t}\n\thsv.h = parseInt(( hsv.h * 360 ).toFixed(0), 10);\n\thsv.s = parseInt(( hsv.s * 100 ).toFixed(0), 10);\n\thsv.v = parseInt(( hsv.v * 100 ).toFixed(0), 10);\n\n\treturn hsv;\n}\n\nfunction hueToRgb(p, q, t) {\n\tif (t < 0) {\n\t\tt += 1;\n\t}\n\tif (t > 1) {\n\t\tt -= 1;\n\t}\n\tif (t < 1 / 6) {\n\t\treturn p + ( q - p ) * 6 * t;\n\t}\n\tif (t < 1 / 2) {\n\t\treturn q;\n\t}\n\tif (t < 2 / 3) {\n\t\treturn p + ( q - p ) * ( ( 2 / 3 - t ) * 6 );\n\t}\n\n\treturn p;\n}\n\nfunction toPercent(amount, limit) {\n\treturn amount / limit;\n}\n\nmodule.exports = colorcolor;\nglobal.colorcolor = module.exports; /* ew */\n","import colorcolor from \"colorcolor\";\nvar cd = require(\"color-difference\");\n\nimport { resolve } from \"path\";\nconst fs = require(\"@skpm/fs\");\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst desktopDir = path.join(os.homedir(), \"Desktop\");\n\n// #region Sketch Items\nconst sketch = require(\"sketch\");\nconst Swatch = sketch.Swatch;\nconst Style = require(\"sketch/dom\").Style;\nimport { Page } from \"sketch/dom\";\nvar Group = require(\"sketch/dom\").Group;\nvar Text = require(\"sketch/dom\").Text;\nvar SharedStyle = require(\"sketch/dom\").SharedStyle;\n\n// Document variables\nvar document = sketch.getSelectedDocument();\nvar firstSelectedLayer = document.selectedLayers.layers[0];\nvar artboard = sketch.Artboard;\n// #endregion\n\n// #region Styles Variables\nvar layerStyles = document.sharedLayerStyles;\nvar textStyles = document.sharedTextStyles;\nvar arrayLayerStyleIDs = layerStyles.map((sharedstyle) => sharedstyle[\"id\"]);\nvar arrayLayerStyleNames = layerStyles.map(\n    (sharedstyle) => sharedstyle[\"name\"]\n);\nvar arrayLayerStyleStyles = layerStyles.map(\n    (sharedstyle) => sharedstyle[\"style\"]\n);\nvar layerStylesOrdered = [...document.sharedLayerStyles].sort(\n    (left, right) => left.name > right.name\n);\n\nvar arrayTextStyleIDs = textStyles.map((sharedstyle) => sharedstyle[\"id\"]);\nvar arrayTextStyleNames = textStyles.map((sharedstyle) => sharedstyle[\"name\"]);\nvar arrayTextStyleStyles = textStyles.map(\n    (sharedstyle) => sharedstyle[\"style\"]\n);\nvar textStylesOrdered = [...document.sharedTextStyles].sort(\n    (left, right) => left.name > right.name\n);\nvar stylesString = JSON.stringify(layerStylesOrdered);\nvar textString = JSON.stringify(textStylesOrdered);\nvar insertedTextStyles = [];\n\n// This array contains:\n// 0 = color variable name\n// 1 = color variable folder\n// 2 = color variable color (HEX)\n// 3 = color variable referencing color\nvar colorVariablesArray = [];\n// #endregion\n\nexport default function () {\n    let directoryFiles = getPath();\n    let folder =\n        directoryFiles.substring(0, directoryFiles.lastIndexOf(\"/\")) + \"/data/\";\n    let fileName = path.basename(directoryFiles);\n    if (fileName === \"dsp.json\") {\n        let fontTokens = JSON.parse(fs.readFileSync(folder + \"fonts.json\"));\n        // let docsTokens = JSON.parse(fs.readFileSync(folder + \"docs.json\"));\n        let tokensTokens = JSON.parse(fs.readFileSync(folder + \"tokens.json\"));\n\n        // #region Color Tokens import\n        let palettes = [];\n        let themes_light = [];\n        let themes_dark = [];\n        const fillStyles = [];\n        const borderStyles = [];\n        tokensTokens.entities.forEach((entity) => {\n            let alias = false;\n            if (entity.type === \"Alias\") {\n                alias = true;\n            }\n            if (!alias) {\n                if (entity.category_id === \"ref.palette\") {\n                    if (!entity.name.includes(\"NaN\")) {\n                        let name = entity.name.substring(\n                            entity.name.lastIndexOf(\".\") + 1\n                        );\n                        // console.log(\"Name: \" + name);\n                        let palette = name.replace(/[0-9]/g, \"\");\n                        // console.log(\"Palette: \" + palette);\n                        let color = entity.value;\n                        let description = entity.description;\n                        palettes.push([palette, name, color]);\n                    }\n                } else if (entity.category_id === \"sys.color.light\") {\n                    let theme = entity.tags[4];\n                    let name = entity.tags[3];\n                    let palette = entity.tags[3];\n                    let color = entity.value;\n                    themes_light.push([theme, name, palette, color]);\n                } else if (entity.category_id === \"sys.color.dark\") {\n                    let theme = entity.tags[4];\n                    let name = entity.tags[3];\n                    let palette = entity.tags[3];\n                    let color = entity.value;\n                    themes_dark.push([theme, name, palette, color]);\n                }\n            }\n        });\n        // #endregion Color Tokens import\n\n        // #region Text Tokens import\n        const textMDStyles = [];\n        let styleName = \"\";\n        let fontFamily = \"\";\n        let fontSize = 0;\n        let fontLineHeight = 0;\n        let fontWeight = \"Regular\";\n        let fontKerning = 0;\n        fontTokens.entities.forEach((entity) => {\n            let alias = false;\n            if (entity.type === \"Alias\") {\n                alias = true;\n            }\n            if (!alias) {\n                styleName = entity.tags[0];\n                fontFamily = entity.tokens[0].value;\n                fontLineHeight = parseFloat(entity.tokens[1].value);\n                fontWeight = entity.tokens[2].value;\n                fontKerning = parseFloat(entity.tokens[3].value);\n                fontSize = parseFloat(entity.tokens[4].value);\n                textMDStyles.push([\n                    styleName,\n                    fontFamily,\n                    fontLineHeight,\n                    fontWeight,\n                    fontKerning,\n                    fontSize,\n                ]);\n            }\n        });\n        // #endregion Text Tokens import\n\n        let generatedLayerStyles = [];\n        let generatedTextStyles = [];\n        // Create color variables for each palette\n        let colorVariables = paletteToColorVariables(palettes);\n\n        // #region Connect Color Variables\n        // themes_light.forEach((style) => {\n        //     generatedLayerStyles.push(\n        //         createNewLayerStyle(style[0], style[1], style[2], style[3])\n        //     );\n        //     if (availableTextStyles(style[1])) {\n        //         textMDStyles.forEach((textStyle) => {\n        //             generatedTextStyles.push(\n        //                 createNewTextStyle(\n        //                     style[0],\n        //                     style[1],\n        //                     style[2],\n        //                     style[3],\n        //                     textStyle\n        //                 )\n        //             );\n        //         });\n        //     }\n        // });\n        // themes_dark.forEach((style) => {\n        //     generatedLayerStyles.push(\n        //         createNewLayerStyle(style[0], style[1], style[2], style[3])\n        //     );\n        //     if (availableTextStyles(style[1])) {\n        //         textMDStyles.forEach((textStyle) => {\n        //             generatedTextStyles.push(\n        //                 createNewTextStyle(\n        //                     style[0],\n        //                     style[1],\n        //                     style[2],\n        //                     style[3],\n        //                     textStyle\n        //                 )\n        //             );\n        //         });\n        //     }\n        // });\n        // #endregion Connect Color Variables\n\n        // #region Generates elements\n        let newPage = findOrCreatePage(document, \"Material Design Palettes\");\n        // #region Tonal Palettes\n        let paletteArtboard = createArtboard(\n            newPage,\n            0,\n            0,\n            1000,\n            100,\n            \"Tonal Palettes\"\n        );\n        let paletteTitle = createTextWithStyleName(\n            paletteArtboard,\n            32,\n            16,\n            \"light/headline/on-background/headline-large\",\n            \"Tonal Palette\",\n            \"Tonal Palette title\"\n        );\n        console.log(paletteTitle);\n        // #endregion Tonal Palettes\n        // #endregion Generates elements\n    } else {\n        sketch.UI.alert(\n            \"Select the correct file\",\n            \"Please select the dsp.json file from your downloaded Material Design 3 token folder\"\n        );\n    }\n\n    function paletteToColorVariables(palettes) {\n        let arrayColorVarNames = document.swatches.map(\n            (Swatch) => Swatch[\"name\"]\n        );\n        palettes.forEach((palette) => {\n            let paletteName = palette[0];\n            let colorName = palette[1];\n            let name = paletteName + \"/\" + colorName;\n\n            let color = palette[2];\n            let newSwatch = Swatch.from({\n                name: name,\n                color: color,\n            });\n\n            // add the color variable to the local color variables Array\n            colorVariablesArray.push([\n                name,\n                name.split(\"/\")[0],\n                color,\n                newSwatch.referencingColor,\n            ]);\n            // Generate the new Color Variable if it doesn't exist\n            if (arrayColorVarNames.length > 0) {\n                if (arrayColorVarNames.indexOf(colorName) === -1) {\n                    document.swatches.push(newSwatch);\n                } else {\n                    var existingSwatch =\n                        document.swatches[\n                            arrayColorVarNames.indexOf(colorName)\n                        ];\n                    document.swatches[\n                        arrayColorVarNames.indexOf(colorName)\n                    ].sketchObject.updateWithColor(\n                        MSColor.colorWithHex_alpha(color[1].slice(0, 7), 1)\n                    );\n\n                    let swatchContainer = document.sketchObject\n                        .documentData()\n                        .sharedSwatches();\n\n                    // REFRESHES THE UI\n                    swatchContainer.updateReferencesToSwatch(\n                        existingSwatch.sketchObject\n                    );\n                }\n            } else {\n                document.swatches.push(newSwatch);\n            }\n        });\n    }\n}\n\n// ******************************************************************* //\n// General Styles management functions                                 //\n// ******************************************************************* //\nfunction getLayerStyleNameFromID(id) {\n    let styleName = \"\";\n    for (let i = 0; i < arrayLayerStyleNames.length; i++) {\n        if (arrayLayerStyleIDs[i] === id) {\n            styleName = arrayLayerStyleNames[i];\n        }\n    }\n    return styleName;\n}\n\nfunction getTextStyleNameFromID(id) {\n    try {\n        let textStyle = \"\";\n        for (let i = 0; i < arrayTextStyleStyles.length; i++) {\n            if (arrayTextStyleIDs[i] === id) {\n                textStyle = arrayTextStyleStyles[i];\n            }\n        }\n        return textStyle;\n    } catch (getTextStylesStyleFromIDErr) {\n        console.log(getTextStylesStyleFromIDErr);\n    }\n}\n\nfunction getLayerStyleIDFromName(name) {\n    let styleID = \"\";\n    for (let i = 0; i < arrayLayerStyleIDs.length; i++) {\n        if (arrayLayerStyleNames[i] === name) {\n            styleID = arrayLayerStyleIDs[i];\n        }\n    }\n    return styleID;\n}\n\nfunction getTextStyleIDFromName(name) {\n    let styleID = \"\";\n    for (let i = 0; i < arrayTextStyleIDs.length; i++) {\n        if (arrayTextStyleNames[i] === name) {\n            styleID = arrayTextStyleIDs[i];\n        }\n    }\n    return styleID;\n}\n\nfunction createNewLayerStyle(theme = \"\", name = \"\", palette = \"\", color = \"\") {\n    try {\n        let generatedStyles = [];\n        let styleNameFill = theme + \"/Fills/\" + name;\n        let styleNameBorder = theme + \"/Borders/\" + name;\n        let styleColor = color + \"ff\".toUpperCase();\n        let checkName = name.replace(/[0-9]/g, \"\").split(\"-\");\n\n        let colorVariables = document.swatches;\n        let shouldSkip = false;\n\n        colorVariables.forEach((variable) => {\n            let variableColor = variable.color.toUpperCase();\n            let variableName = variable.name;\n            let variableFolder = variableName.split(\"/\")[0];\n\n            if (shouldSkip) {\n                return styleColor;\n            }\n            if (checkName.includes(variableFolder)) {\n                if (variableColor === styleColor) {\n                    styleColor = variable.referencingColor;\n                    shouldSkip = true;\n                    return styleColor;\n                }\n            } else if (variableFolder === \"neutral\") {\n                if (variableColor === styleColor) {\n                    styleColor = variable.referencingColor;\n                    shouldSkip = true;\n                    return styleColor;\n                }\n            } else if (variableFolder === \"neutral-variant\") {\n                if (variableColor === styleColor) {\n                    styleColor = variable.referencingColor;\n                    shouldSkip = true;\n                    return styleColor;\n                }\n            }\n        });\n        // #endregion assign color variable\n\n        let fills = [\n            {\n                color: styleColor,\n                fillType: Style.FillType.Color,\n            },\n        ];\n        let borders = [\n            {\n                color: styleColor,\n                fillType: Style.FillType.Color,\n                position: Style.BorderPosition.Inside,\n            },\n        ];\n\n        // 1. If the style is new\n        if (arrayLayerStyleNames.indexOf(styleNameFill) === -1) {\n            let sharedStyle = layerStyles.push({\n                name: styleNameFill,\n                style: {\n                    fills: fills,\n                    borders: [],\n                },\n                document: document,\n            });\n            generatedStyles.push([styleNameFill, palette]);\n        }\n        if (arrayLayerStyleNames.indexOf(styleNameBorder) === -1) {\n            let sharedStyle = layerStyles.push({\n                name: styleNameBorder,\n                style: {\n                    fills: [],\n                    borders: borders,\n                },\n                document: document,\n            });\n            generatedStyles.push([styleNameBorder, palette]);\n        }\n        // 2. If the style exists\n        if (arrayLayerStyleNames.indexOf(styleNameFill) !== -1) {\n            let existingStyleID = getLayerStyleIDFromName(styleNameFill);\n            if (existingStyleID !== \"\") {\n                let localIndex = arrayLayerStyleIDs.indexOf(existingStyleID);\n                let existingStyle = layerStyles[localIndex];\n                existingStyle.style.fills[0].color = fills[0].color;\n                generatedStyles.push([styleNameFill, palette]);\n            }\n        }\n        if (arrayLayerStyleNames.indexOf(styleNameBorder) !== -1) {\n            let existingStyleID = getLayerStyleIDFromName(styleNameBorder);\n            if (existingStyleID !== \"\") {\n                let localIndex = arrayLayerStyleIDs.indexOf(existingStyleID);\n                let existingStyle = layerStyles[localIndex];\n                existingStyle.style.fills[0].color = fills[0].color;\n                generatedStyles.push([styleNameBorder, palette]);\n            }\n        }\n        updateLayerStyles();\n        return generatedStyles;\n    } catch (createLayerStyleErr) {\n        console.log(createLayerStyleErr);\n    }\n}\n\nfunction createNewTextStyle(\n    theme = \"\",\n    name = \"\",\n    palette = \"\",\n    color = \"\",\n    styleDetails = []\n) {\n    try {\n        // styleDetails:\n        // 0 = styleName (containes group + - + variant),\n        // 1 = fontFamily,\n        // 2 = fontLineHeight,\n        // 3 = fontWeight,\n        // 4 = fontKerning,\n        // 5 = fontSize\n\n        let generatedStyles = [];\n        let textName = styleDetails[0];\n        let styleName =\n            theme +\n            \"/\" +\n            styleDetails[0].split(\"-\")[0] +\n            \"/\" +\n            name +\n            \"/\" +\n            styleDetails[0];\n        let fontFamily = styleDetails[1];\n        let fontLineHeight = styleDetails[2];\n        let fontWeight = 5;\n        if (styleDetails[3] === \"Medium\") {\n            fontWeight = 6;\n        }\n        let fontKerning = styleDetails[4];\n        let fontSize = styleDetails[5];\n        let styleColor = color + \"ff\".toUpperCase();\n        let checkName = name.replace(/[0-9]/g, \"\").split(\"-\");\n\n        let colorVariables = document.swatches;\n        let shouldSkip = false;\n\n        // #region assign color variable\n        colorVariables.forEach((variable) => {\n            let variableColor = variable.color.toUpperCase();\n            let variableName = variable.name;\n            let variableFolder = variableName.split(\"/\")[0];\n\n            if (shouldSkip) {\n                return styleColor;\n            }\n            if (checkName.includes(variableFolder)) {\n                if (variableColor === styleColor) {\n                    styleColor = variable.referencingColor;\n                    shouldSkip = true;\n                    return styleColor;\n                }\n            } else if (variableFolder === \"neutral\") {\n                if (variableColor === styleColor) {\n                    styleColor = variable.referencingColor;\n                    shouldSkip = true;\n                    return styleColor;\n                }\n            } else if (variableFolder === \"neutral-variant\") {\n                if (variableColor === styleColor) {\n                    styleColor = variable.referencingColor;\n                    shouldSkip = true;\n                    return styleColor;\n                }\n            }\n        });\n        // #endregion assign color variable\n        if (arrayTextStyleNames.indexOf(styleName) === -1) {\n            let sharedStyle = textStyles.push({\n                name: styleName,\n                style: {\n                    textColor: styleColor,\n                    fontSize: fontSize,\n                    fontFamily: fontFamily,\n                    lineHeight: fontLineHeight,\n                    kerning: fontKerning,\n                    fontWeight: fontWeight,\n                    fills: [],\n                    borders: [],\n                    alignment: \"left\",\n                },\n                document: document,\n            });\n            insertedTextStyles.push([sharedStyle.name, palette]);\n            updateTextStyles();\n            return sharedStyle;\n        } else {\n            // Update styles\n            let existingStyleID = getTextStyleIDFromName(styleName);\n            if (existingStyleID !== \"\") {\n                let localIndex = arrayTextStyleIDs.indexOf(existingStyleID);\n                let existingStyle = textStyles[localIndex];\n\n                existingStyle.style.textColor = styleColor;\n                existingStyle.style.fontSize = fontSize;\n                existingStyle.style.fontFamily = fontFamily;\n                existingStyle.style.lineHeight = fontLineHeight;\n                existingStyle.style.kerning = fontKerning;\n                generatedStyles.push([existingStyle.name, palette]);\n                updateTextStyles();\n                return existingStyle;\n            }\n            // Update titles\n            styleName = folder + \"H1/\" + styleDetails[0];\n            existingStyleID = getTextStyleIDFromName(styleName);\n            if (existingStyleID !== \"\") {\n                let localIndex = arrayTextStyleIDs.indexOf(existingStyleID);\n                let existingStyle = textStyles[localIndex];\n\n                existingStyle.style.textColor = styleColor;\n\n                generatedStyles.push([existingStyle.name, palette]);\n                updateTextStyles();\n                return existingStyle;\n            }\n        }\n    } catch (createTextStyleErr) {\n        console.log(createTextStyleErr);\n    }\n}\n\nfunction updateLayerStyles() {\n    layerStyles = document.sharedLayerStyles;\n    arrayLayerStyleIDs = layerStyles.map((sharedstyle) => sharedstyle[\"id\"]);\n    arrayLayerStyleNames = layerStyles.map(\n        (sharedstyle) => sharedstyle[\"name\"]\n    );\n    arrayLayerStyleStyles = layerStyles.map(\n        (sharedstyle) => sharedstyle[\"style\"]\n    );\n}\n\nfunction updateTextStyles() {\n    let textStyles = document.sharedTextStyles;\n    arrayTextStyleIDs = textStyles.map((sharedstyle) => sharedstyle[\"id\"]);\n    arrayTextStyleNames = textStyles.map((sharedstyle) => sharedstyle[\"name\"]);\n    arrayTextStyleStyles = textStyles.map(\n        (sharedstyle) => sharedstyle[\"style\"]\n    );\n}\n\nfunction availableTextStyles(style = \"\") {\n    let toReturn = false;\n    let availableTextStyles = [\n        \"primary\",\n        \"on-primary\",\n        \"on-primary-container\",\n        \"secondary\",\n        \"on-secondary\",\n        \"on-secondary-container\",\n        \"tertiary\",\n        \"on-tertiary\",\n        \"on-tertiary-container\",\n        \"error\",\n        \"on-error\",\n        \"on-error-container\",\n        \"on-background\",\n        \"on-surface\",\n        \"on-surface-variant\",\n        \"inverse-primary\",\n        \"inverse-on-surface\",\n    ];\n    // availableTextStyles.forEach((availableStyle) => {\n    // console.log(style);\n    if (availableTextStyles.includes(style.toLowerCase())) {\n        toReturn = true;\n    }\n    // });\n    return toReturn;\n}\n\nfunction getPath(initialPath = \"~/Documents\") {\n    const panel = NSOpenPanel.openPanel();\n    panel.setCanChooseFiles(true);\n    panel.setCanChooseDirectories(false);\n    panel.setCanCreateDirectories(false);\n    panel.setAllowsMultipleSelection(false);\n    panel.setTitle(\"Select a folder\");\n    panel.setPrompt(\"Select\");\n    panel.setDirectoryURL(NSURL.fileURLWithPath(initialPath));\n    const result = panel.runModal();\n    if (result === NSFileHandlingPanelOKButton) {\n        return panel.URL().path();\n    } else {\n        return null;\n    }\n}\n\n// ******************************************************************* //\n// Pages management support functions                                  //\n// ******************************************************************* //\nfunction findOrCreatePage(document, name) {\n    const [page] = document.pages.filter((page) => page.name === name);\n\n    if (!page) {\n        return new Page({\n            name,\n            parent: document,\n        });\n    } else {\n        return page;\n    }\n}\n\nfunction backgroundWithStyle(\n    parentLayer,\n    x,\n    y,\n    width,\n    height,\n    styleID,\n    cornerRadius\n) {\n    let xPosition = x;\n    let yPosition = y;\n    let backgroundWidth = width;\n    let backgroundHeight = height;\n    let backgroundColor = \"#ffffff\";\n    let backgroundBorder = \"\";\n    let backgroundStyleID = styleID;\n    let backgroundCornerRadius = cornerRadius;\n\n    let index = arrayLayerStyleIDs.indexOf(backgroundStyleID);\n\n    buttonBackground = createShapePath(\n        parentLayer,\n        xPosition,\n        yPosition,\n        backgroundWidth,\n        backgroundHeight,\n        backgroundColor,\n        backgroundBorder,\n        buttonBackgroundName\n    );\n\n    buttonBackground.sharedStyleId = backgroundStyleID;\n    buttonBackground.style = layerStyles[index].style;\n    buttonBackground.points.forEach(\n        (point) => (point.cornerRadius = backgroundCornerRadius)\n    );\n    buttonBackground.sketchObject.setFixedRadius(backgroundCornerRadius);\n\n    buttonBackground.moveToBack();\n}\n\n/* Manage the text */\nfunction createTextWithStyleID(parentLayer, padding, styleID) {\n    let textX = padding;\n    let textY = 10;\n    let textParent = parentLayer;\n    let textStyleID = styleID;\n    let textValue = buttonTextName;\n    let textName = buttonTextName;\n\n    let index = arrayTextStyleIDs.indexOf(textStyleID);\n\n    let newText = new Text({\n        parent: textParent,\n        text: textValue,\n    });\n\n    newText.frame.x = textX;\n    newText.frame.y = textY;\n    newText.sharedStyleId = textStyleID;\n    newText.style = textStyles[index].style;\n    newText.name = textName;\n\n    return newText;\n}\n\nfunction createTextWithStyleName(\n    parentLayer,\n    posX,\n    posY,\n    styleName,\n    textValue = \"\",\n    textName = \"\"\n) {\n    let textX = posX;\n    let textY = posY;\n\n    let textStyleID = getTextStyleIDFromName(styleName);\n    let index = arrayTextStyleIDs.indexOf(textStyleID);\n\n    let newText = new Text({\n        parent: parentLayer,\n        text: textValue,\n        sharedStyleId: textStyleID,\n        style: textStyles[index].style,\n        name: textName,\n    });\n\n    newText.frame.x = posX;\n    newText.frame.y = posY;\n\n    return newText;\n}\n\n// ******************************************************************* //\n// Handle function to manage Sketch items                              //\n// ******************************************************************* //\nfunction createArtboard(parentLayer, x, y, width, height, name) {\n    let Artboard = sketch.Artboard;\n    let artboard = new Artboard({\n        name: name,\n        parent: parentLayer,\n        frame: {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        },\n    });\n\n    return artboard;\n}\n\nfunction createShapePath(\n    parentLayer,\n    x,\n    y,\n    width,\n    height,\n    background,\n    border,\n    name\n) {\n    let borders = [];\n    if (border !== \"\") {\n        borders = border;\n    }\n    let ShapePath = sketch.ShapePath;\n    let newShape = new ShapePath({\n        parent: parentLayer,\n        frame: {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n        },\n        style: { fills: [background], borders: borders },\n        name: name,\n    });\n\n    return newShape;\n}\n\nfunction createGroup(parentLayer, children, name) {\n    try {\n        let Group = sketch.Group;\n        let newGroup = new Group({\n            parent: parentLayer,\n            layers: children,\n            name: name,\n        });\n\n        return newGroup;\n    } catch (errGroup) {\n        console.log(errGroup);\n    }\n}\n","module.exports = require(\"buffer\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"sketch\");","module.exports = require(\"sketch/dom\");","module.exports = require(\"util\");"],"sourceRoot":""}